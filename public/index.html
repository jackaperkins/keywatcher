<html>
<head>
  <script type="text/javascript" src="lib/jquery.1.8.2.js"></script>
    <script type="text/javascript" src="lib/highcharts.js"></script>
    <script type="text/javascript">
    $(function () {
      $.ajax("/minutes").done(function (data) {
        var convert = [];
        data.forEach(function (obj) {
          convert.push([Date.parse(obj.time), obj.count]);
        });
        console.log(data);
        $('#container').highcharts({
            chart: {

            },
            xAxis: {
              type: 'datetime',
                dateTimeLabelFormats: { // don't display the dummy year
                  month: '%e. %b',
                  year: '%b'
                },
            },
            title: {
                text: 'Keystrokes'
            },
            series: [{
              type: 'area',
              step: 'left',
              name: "key presses per minute",
              data: convert
            }]
          });
        });
      });

    </script>
</head>
<body>
  <div id="container">
  </div>
</body>
</html>
